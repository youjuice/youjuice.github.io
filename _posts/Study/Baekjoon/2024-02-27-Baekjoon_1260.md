---
no_link_title:    false 
no_excerpt:       false 
hide_image:       true

layout:           post
cover:            false
sidebar:          false
order:            0      
toc:              true

image:
  path:           /assets/img/banner/study_banner.png

title:            λ°±μ¤€ μ•κ³ λ¦¬μ¦ No.1260 DFSμ™€ BFS
hide_title:       false
description:      JUNGLE STUDY Week 3
hide_description: true
date:             2024-02-27 01:20:00
featured:         false
categories:       [study]
tag:              [algorithm, python]
---

## λ°±μ¤€ μ•κ³ λ¦¬μ¦ No.1260 DFSμ™€ BFS

* toc
{:toc}

> [**λ¬Έμ **](https://www.acmicpc.net/problem/1260)

κ·Έλν”„λ¥Ό DFSλ΅ νƒμƒ‰ν• κ²°κ³Όμ™€ BFSλ΅ νƒμƒ‰ν• κ²°κ³Όλ¥Ό μ¶λ ¥ν•λ” ν”„λ΅κ·Έλ¨μ„ μ‘μ„±ν•μ‹μ¤. 
λ‹¨, λ°©λ¬Έν•  μ μλ” μ •μ μ΄ μ—¬λ¬ κ°μΈ κ²½μ°μ—λ” μ •μ  λ²νΈκ°€ μ‘μ€ κ²ƒμ„ λ¨Όμ € λ°©λ¬Έν•κ³ , 
λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” μ μ΄ μ—†λ” κ²½μ° μΆ…λ£ν•λ‹¤. μ •μ  λ²νΈλ” 1λ²λ¶€ν„° Nλ²κΉμ§€μ΄λ‹¤.

> **μ…λ ¥**

μ²«μ§Έ μ¤„μ— μ •μ μ κ°μ N(1 β‰¤ N β‰¤ 1,000), κ°„μ„ μ κ°μ M(1 β‰¤ M β‰¤ 10,000), νƒμƒ‰μ„ μ‹μ‘ν•  μ •μ μ λ²νΈ Vκ°€ μ£Όμ–΄μ§„λ‹¤. 
λ‹¤μ Mκ°μ μ¤„μ—λ” κ°„μ„ μ΄ μ—°κ²°ν•λ” λ‘ μ •μ μ λ²νΈκ°€ μ£Όμ–΄μ§„λ‹¤. μ–΄λ–¤ λ‘ μ •μ  μ‚¬μ΄μ— μ—¬λ¬ κ°μ κ°„μ„ μ΄ μμ„ μ μλ‹¤. 
μ…λ ¥μΌλ΅ μ£Όμ–΄μ§€λ” κ°„μ„ μ€ μ–‘λ°©ν–¥μ΄λ‹¤.

> **μ¶λ ¥** 

μ²«μ§Έ μ¤„μ— DFSλ¥Ό μν–‰ν• κ²°κ³Όλ¥Ό, κ·Έ λ‹¤μ μ¤„μ—λ” BFSλ¥Ό μν–‰ν• κ²°κ³Όλ¥Ό μ¶λ ¥ν•λ‹¤. Vλ¶€ν„° λ°©λ¬Έλ μ μ„ μμ„λ€λ΅ μ¶λ ¥ν•λ©΄ λλ‹¤.

<br>

---

<br>

**μ²΄κ° λ‚μ΄λ„**: β…β…β…

DFSμ™€ BFSμ— λ€ν• μ΄λ΅ μ€ μ•κ³ μμ—μ§€λ§ μ§μ ‘ κµ¬ν„ν•΄λ³Έκ²ƒμ€ μ²μμ΄λΌ μ–΄λ ¤μ› λ‹¤. 
ν•μ§€λ§ μ΄λ―Έ κµ¬ν„ν•λ” λ²•μ„ μ•κ³ μλ‹¤λ©΄ κµ‰μ¥ν κΈ°λ³Έμ μΈ λ¬Έμ μΌ κ²ƒμ΄λ‹¤..

### Code
```python
from collections import deque

# μ¬κ·€λ¥Ό ν™μ©ν• DFS ν•¨μ
def dfs(v):                                         
    dfs_visit[v] = 1                                # ν„μ¬ λ…Έλ“ λ°©λ¬Έ μ²λ¦¬
    print(v, end=' ')                               # μ¶λ ¥
    for i in range(1, n+1):                         # κ·Έλν”„λ¥Ό μνν•λ©°
        if graph[v][i] == 1 and dfs_visit[i] == 0:  # μΈμ ‘ν• λ…Έλ“ μ¤‘ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ— λ€ν•΄
            dfs(i)                                  # ν•¨μ μ¬κ·€ νΈμ¶

# νλ¥Ό ν™μ©ν• BFS ν•¨μ
def bfs(v):                                             
    q = deque([v])                                      # ν μ„ μ–Έ λ° μ‹μ‘ λ…Έλ“ μ¶”κ°€
    bfs_visit[v] = 1                                    # μ‹μ‘ λ…Έλ“ λ°©λ¬Έ μ²λ¦¬
    while q:                                            # νκ°€ λΉ λ•κΉμ§€ λ°λ³µ
        v = q.popleft()                                 # ν„μ¬ λ…Έλ“λ¥Ό νμ—μ„ κΊΌλ‚΄κ³ 
        print(v, end=' ')                               # μ¶λ ¥
        for i in range(1, n+1):                         # κ·Έλν”„λ¥Ό μνν•λ©°
            if graph[v][i] == 1 and bfs_visit[i] == 0:  # μΈμ ‘ν• λ…Έλ“ μ¤‘ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λ¥Ό
                q.append(i)                             # νμ— μ¶”κ°€ ν›„
                bfs_visit[i] = 1                        # λ°©λ¬Έ μ²λ¦¬

n, m, v = map(int, input().split())         # μ •μ μ κ°μ, κ°„μ„ μ κ°μ, νƒμƒ‰μ„ μ‹μ‘ν•  μ •μ 

# λ…Έλ“ μΈλ±μ¤κ°€ 1λ¶€ν„° μ‹μ‘ν•κΈ°μ— (n+1) * (n+1)λ΅ λ§λ“¤μ–΄μ¤€λ‹¤.
graph = [[0] * (n+1) for _ in range(n+1)]   # 2μ°¨μ› ν–‰λ ¬μ„ 0μΌλ΅ μ΄κΈ°ν™”
for i in range(m):                          # κ°„μ„ μ κ°μλ§νΌ
    a, b = map(int, input().split())        # μ—°κ²°ν•΄μ•Ό ν•λ” λ‘ μ •μ  μ…λ ¥ λ°›κΈ°
    graph[a][b] = graph[b][a] = 1           # μ—°κ²° ν‘μ‹
                
dfs_visit = [0] * (n+1)                     # DFS λ°©λ¬Έ μ—¬λ¶€ λ¦¬μ¤νΈ μ΄κΈ°ν™”
bfs_visit = [0] * (n+1)                     # BFS λ°©λ¬Έ μ—¬λ¶€ λ¦¬μ¤νΈ μ΄κΈ°ν™”

dfs(v)
print()
bfs(v)
```

### Solution

μ°μ„  μ΄ λ¬Έμ λ¥Ό ν’€κΈ° μ„ν•΄μ„λ” DFSμ™€ BFSμ— λ€ν• μ΄ν•΄κ°€ ν•„μ”ν•λ‹¤.

μμƒ μ°Έκ³ : [**Click Here!**](https://www.youtube.com/watch?v=_hxFgg7TLZQ)
{:.note}

#### DFS (κΉμ΄ μ°μ„  νƒμƒ‰)
- κ·Έλν”„μ—μ„ **κΉμ€ λ¶€λ¶„**μ„ **μ°μ„ μ **μΌλ΅ νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦
- μ£Όλ΅ **λ―Έλ΅ μ°ΎκΈ°**, **κ²½λ΅ μ°ΎκΈ°** λ“±μ—μ„ μ‚¬μ©
- νΉμ • λ…Έλ“μ—μ„ **κΉμ™ν** λ“¤μ–΄κ°€μ„ κ²½λ΅λ¥Ό μ°Ύμ„ λ• μ μ©

##### β” DFSμ λ™μ‘ μμ„
> 1. **μ‹μ‘ λ…Έλ“**λ¥Ό μ¤νƒ λλ” μ¬κ·€ νΈμ¶μ„ ν†µν•΄ **λ°©λ¬Έ**
> 2. ν„μ¬ λ…Έλ“λ¥Ό **λ°©λ¬Έ μ²λ¦¬**ν•κ³  μ¶λ ¥
> 3. ν„μ¬ λ…Έλ“μ™€ μΈμ ‘ν• λ…Έλ“ μ¤‘μ—μ„ **μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“**λ¥Ό μ°Ύμ
> 4. λ°©λ¬Έν•μ§€ μ•μ€ μ΄μ›ƒ λ…Έλ“κ°€ μμΌλ©΄ ν•΄λ‹Ή λ…Έλ“λ΅ μ΄λ™ν•κ³  2λ²λ¶€ν„° λ°λ³µ
> 5. λ” μ΄μƒ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“κ°€ μ—†λ‹¤λ©΄, **μ΄μ „ λ‹¨κ³„**λ΅ λμ•„κ°€μ„ λ‹¤λ¥Έ μ΄μ›ƒ λ…Έλ“ νƒμƒ‰ <br>
   (**μ¤νƒ**μ—μ„ **pop**ν•κ±°λ‚, **μ¬κ·€ νΈμ¶**μ—μ„ **λ°ν™**ν•λ©΄μ„ μ΄μ „ λ‹¨κ³„λ΅ μ΄λ™)
> 6. μ¤νƒμ΄ λΉ„μ–΄ μκ±°λ‚, μ¬κ·€ νΈμ¶μ΄ λ¨λ‘ μΆ…λ£λλ©΄ DFS μΆ…λ£

##### β” DFSμ κµ¬ν„ λ°©λ²• 1 - μ¤νƒ(Stack)

```python
def dfs_stack(graph, start):
    stack = [start]                       # μ‹μ‘ λ…Έλ“λ¥Ό μ¤νƒμ— μ¶”κ°€
    visited = [False] * (len(graph) + 1)  # λ°©λ¬Έ μ—¬λ¶€λ¥Ό μ €μ¥ν•λ” λ¦¬μ¤νΈ
    
    while stack:                # μ¤νƒμ΄ λΉ λ•κΉμ§€ λ°λ³µ
        node = stack.pop()      # ν„μ¬ λ°©λ¬Έν•κ³  μλ” λ…Έλ“λ¥Ό κΊΌλ‚΄κ³ 
        visited[node] = True    # λ°©λ¬Έ μ²΄ν¬ ν›„
        print(node, end=' ')    # μ¶λ ¥

        # μ¤νƒμ— μ—­μμΌλ΅ μΈμ ‘ λ…Έλ“λ¥Ό μ¶”κ°€
        for neighbor in reversed(graph[node]):  # ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ μΈμ ‘ λ…Έλ“ μ¤‘
            if visited[neighbor] is False:      # λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(λ‹¤μμ— λ°©λ¬Έν•  λ…Έλ“)λ¥Ό
                stack.append(neighbor)          # μ¤νƒμ— μ¶”κ°€
```
> - reversed λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ **μΈμ ‘ λ…Έλ“λ“¤**μ„ **μ—­μ**μΌλ΅ μ¤νƒμ— μ¶”κ°€
> - μ΄λ΅μ¨ μ¤νƒμ΄ LIFO κµ¬μ΅°λ¥Ό μ μ§€ν•λ©°, κΉμ΄ μ°μ„ μΌλ΅ νƒμƒ‰ κ°€λ¥

##### β” DFSμ κµ¬ν„ λ°©λ²• 2 - μ¬κ·€(Recursive)

```python
def dfs_recursive(graph, current_node, visited=None):
    if visited is None:                       # μ²μ νΈμ¶ μ‹μ—λ§
        visited = [False] * (len(graph) + 1)  # λ°©λ¬Έ μ—¬λ¶€λ¥Ό μ €μ¥ν•λ” λ¦¬μ¤νΈ μ΄κΈ°ν™”
    
    visited[current_node] = True    # ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έν–λ‹¤κ³  ν‘μ‹
    print(current_node, end=' ')    # ν„μ¬ λ…Έλ“ μ¶λ ¥

    for neighbor in graph[current_node]:              # ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ μΈμ ‘ λ…Έλ“ μ¤‘
        if visited[neighbor] is False:                # λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(λ‹¤μμ— λ°©λ¬Έν•  λ…Έλ“)μ— λ€ν•΄
            dfs_recursive(graph, neighbor, visited)   # dfs_recursive ν•¨μλ¥Ό μ¬κ·€ νΈμ¶
```
> - `dfs_recursive` ν•¨μμ μ •μμ—μ„ `visited=None`μ€ `visited` νλΌλ―Έν„°κ°€ **κΈ°λ³Έκ°’**μΌλ΅ `None`μ„ κ°–λ”λ‹¤λ” κ²ƒμ„ μλ―Έ
> - μ΄λ ‡κ² ν•λ©΄ ν•¨μ νΈμ¶ μ‹ `visited` νλΌλ―Έν„°λ¥Ό μƒλµ κ°€λ¥
> - `if visited is None:`μ„ ν†µν•΄ ν•¨μκ°€ **μ²μ νΈμ¶λ  λ•λ§** λ°©λ¬Έ μ—¬λ¶€λ¥Ό μ €μ¥ν•λ” λ¦¬μ¤νΈκ°€ **μ΄κΈ°ν™”**
> - ν•¨μκ°€ μ¬κ·€μ μΌλ΅ νΈμ¶ λμ—μ„ λ• `visited`κ°€ **κ³µμ λμ§€ μ•λ„λ΅** ν•κΈ° μ„ν•¨

#### BFS (λ„λΉ„ μ°μ„  νƒμƒ‰)
- κ·Έλν”„μ—μ„ **κ°€κΉμ΄ λ¶€λ¶„**μ„ **μ°μ„ μ **μΌλ΅ νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦
- **μµλ‹¨ κ²½λ΅ λ¬Έμ **μ—μ„ λ§μ΄ μ‚¬μ©
- **λ λ²¨ λ‹¨μ„λ΅ νƒμƒ‰**ν•κΈ° λ•λ¬Έμ— μµλ‹¨ κ²½λ΅ λ³΄μ¥

##### β” BFSμ λ™μ‘ μμ„
> 1. **μ‹μ‘ λ…Έλ“**λ¥Ό νμ— λ„£κ³  **λ°©λ¬Έ μ²λ¦¬**
> 2. νμ—μ„ λ…Έλ“λ¥Ό ν•λ‚ κΊΌλ‚΄μ„ λ°©λ¬Έ
> 3. ν„μ¬ λ…Έλ“μ™€ μΈμ ‘ν• λ…Έλ“ μ¤‘μ—μ„ **μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“**λ¥Ό νμ— μ¶”κ°€ν•κ³  λ°©λ¬Έ μ²λ¦¬
> 4. νκ°€ λΉ λ•κΉμ§€ 2λ²κ³Ό 3λ² λ°λ³µ
> 5. **λ λ²¨ λ‹¨μ„λ΅ νƒμƒ‰**ν•λ©΄μ„, ν„μ¬ λ λ²¨μ λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν• ν›„ **λ‹¤μ λ λ²¨λ΅ μ΄λ™**
> 6. λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•  λ•κΉμ§€ BFS κ³„μ† μ§„ν–‰

##### β” BFSμ κµ¬ν„ λ°©λ²• - ν(Queue)

```python
def bfs(graph, start):
    queue = deque([start])                   # μ‹μ‘ λ…Έλ“λ¥Ό νμ— μ¶”κ°€
    visited = [False] * (len(graph) + 1)     # λ°©λ¬Έ μ—¬λ¶€λ¥Ό μ €μ¥ν•λ” λ¦¬μ¤νΈ
    
    while queue:                # νκ°€ λΉ λ•κΉμ§€ λ°λ³µ
        node = queue.popleft()  # ν„μ¬ λ°©λ¬Έν•κ³  μλ” λ…Έλ“λ¥Ό κΊΌλ‚΄κ³ ,
        visited[node] = True    # λ°©λ¬Έ μ²΄ν¬ ν›„
        print(node, end=' ')    # μ¶λ ¥
        
        for neighbor in graph[node]:          # ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ μΈμ ‘ λ…Έλ“ μ¤‘
            if visited[neighbor] is False:    # λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(λ‹¤μμ— λ°©λ¬Έν•  λ…Έλ“)λ¥Ό
                queue.append(neighbor)        # νμ— μ¶”κ°€
```
> - μ¤νƒμ„ ν™μ©ν• DFS μ•κ³ λ¦¬μ¦κ³Ό λ™μ‘ μμ„λ” λ™μΌν•μ§€λ§ νλ¥Ό μ“΄λ‹¤λ” κ²ƒλ§ λ‹¤λ¦„
> - **μ¤νƒ**μ„ μ‚¬μ©ν•λ©΄ **λ§μ§€λ§‰μ— μ¶”κ°€λ** λ…Έλ“λ¶€ν„° νƒμƒ‰ν•κ² λμ–΄ **κΉμ΄ μ°μ„  νƒμƒ‰**μ— μ ν•©
> - but, **ν**λ” **λ¨Όμ € μ¶”κ°€λ** λ…Έλ“λ¶€ν„° νƒμƒ‰ν•κ² λμ–΄ **λ„λΉ„ μ°μ„  νƒμƒ‰**μ— μ ν•© 

#### μ¶λ ¥ κ²°κ³Ό (DFS & BFS)
**Input**
```
graph = {
    1: [2, 3],                #     1
    2: [1, 4, 5],             #    / \
    3: [1],                   #   2   3
    4: [2],                   #   | \
    5: [2]                    #   4   5
}
```
**Output**
```
DFS by Stack: 1 2 4 5 3 
DFS by Recursive: 1 2 4 5 3 
BFS: 1 2 3 4 5
```

#### π’΅ μ½”λ“λ¥Ό μ¤„μ΄κ³  μ‹¶λ‹¤λ©΄?
> - μ•„λ λ¶€λ¶„μ„ `append`κ°€ μ•„λ‹ `extend`λ΅ **ν•λ²μ—** μ‚½μ…
> - **λ¦¬μ¤νΈ μ»΄ν”„λ¦¬ν—¨μ…** λ¬Έλ²• ν™μ©

```python
for neighbor in graph[node]:          # ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ μΈμ ‘ λ…Έλ“ μ¤‘
    if visited[neighbor] is False:    # λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(λ‹¤μμ— λ°©λ¬Έν•  λ…Έλ“)λ¥Ό
        queue.append(neighbor)        # νμ— μ¶”κ°€
```
```python
queue.extend(neighbor for neighbor in graph[node] if not visited[neighbor])
```

<br>
νΉμ‹ λ” μΆ‹μ€ μ•κ³ λ¦¬μ¦ ν’€μ΄κ°€ μλ‹¤λ©΄ μ–Έμ λ“  λ“κΈ€λ΅ μ•λ ¤μ£Όμ„Έμ” πƒ
{:.faded}