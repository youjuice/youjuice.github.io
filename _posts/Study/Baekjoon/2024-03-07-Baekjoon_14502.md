---
no_link_title:    false 
no_excerpt:       false 
hide_image:       true

layout:           post
cover:            false
sidebar:          false
order:            0      
toc:              true

image:
  path:           /assets/img/banner/study_banner.png

title:            ë°±ì¤€ ì•Œê³ ë¦¬ì¦˜ No.14502 ì—°êµ¬ì†Œ
hide_title:       false
description:      JUNGLE STUDY Week 4
hide_description: true
date:             2024-03-07 02:00:00
featured:         false
categories:       [study]
tag:              [algorithm, python]
---

## ë°±ì¤€ ì•Œê³ ë¦¬ì¦˜ No.14502 ì—°êµ¬ì†Œ

* toc 
{:toc}

> [**ë¬¸ì œ**](https://www.acmicpc.net/problem/14502)

ì¸ì²´ì— ì¹˜ëª…ì ì¸ ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì—°êµ¬í•˜ë˜ ì—°êµ¬ì†Œì—ì„œ ë°”ì´ëŸ¬ìŠ¤ê°€ ìœ ì¶œë˜ì—ˆë‹¤. 
ë‹¤í–‰íˆ ë°”ì´ëŸ¬ìŠ¤ëŠ” ì•„ì§ í¼ì§€ì§€ ì•Šì•˜ê³ , ë°”ì´ëŸ¬ìŠ¤ì˜ í™•ì‚°ì„ ë§‰ê¸° ìœ„í•´ì„œ ì—°êµ¬ì†Œì— ë²½ì„ ì„¸ìš°ë ¤ê³  í•œë‹¤.

ì—°êµ¬ì†ŒëŠ” í¬ê¸°ê°€ NÃ—Mì¸ ì§ì‚¬ê°í˜•ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìœ¼ë©°, ì§ì‚¬ê°í˜•ì€ 1Ã—1 í¬ê¸°ì˜ ì •ì‚¬ê°í˜•ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. 
ì—°êµ¬ì†ŒëŠ” ë¹ˆ ì¹¸, ë²½ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°, ë²½ì€ ì¹¸ í•˜ë‚˜ë¥¼ ê°€ë“ ì°¨ì§€í•œë‹¤.

ì¼ë¶€ ì¹¸ì€ ë°”ì´ëŸ¬ìŠ¤ê°€ ì¡´ì¬í•˜ë©°, ì´ ë°”ì´ëŸ¬ìŠ¤ëŠ” ìƒí•˜ì¢Œìš°ë¡œ ì¸ì ‘í•œ ë¹ˆ ì¹¸ìœ¼ë¡œ ëª¨ë‘ í¼ì ¸ë‚˜ê°ˆ ìˆ˜ ìˆë‹¤. 
ìƒˆë¡œ ì„¸ìš¸ ìˆ˜ ìˆëŠ” ë²½ì˜ ê°œìˆ˜ëŠ” 3ê°œì´ë©°, ê¼­ 3ê°œë¥¼ ì„¸ì›Œì•¼ í•œë‹¤.

(ì¤‘ëµ)

> **ì…ë ¥**

ì²«ì§¸ ì¤„ì— ì§€ë„ì˜ ì„¸ë¡œ í¬ê¸° Nê³¼ ê°€ë¡œ í¬ê¸° Mì´ ì£¼ì–´ì§„ë‹¤. (3 â‰¤ N, M â‰¤ 8)

ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì— ì§€ë„ì˜ ëª¨ì–‘ì´ ì£¼ì–´ì§„ë‹¤. 0ì€ ë¹ˆ ì¹¸, 1ì€ ë²½, 2ëŠ” ë°”ì´ëŸ¬ìŠ¤ê°€ ìˆëŠ” ìœ„ì¹˜ì´ë‹¤. 
2ì˜ ê°œìˆ˜ëŠ” 2ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 10ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìì—°ìˆ˜ì´ë‹¤.

ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ëŠ” 3ê°œ ì´ìƒì´ë‹¤.

> **ì¶œë ¥** 

ì²«ì§¸ ì¤„ì— ì–»ì„ ìˆ˜ ìˆëŠ” ì•ˆì „ ì˜ì—­ì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì¶œë ¥í•œë‹¤.

<br>

---
  
<br>

**ì²´ê° ë‚œì´ë„**: â˜…â˜…

DFSì™€ BFSë¥¼ ì™„ë²½íˆ ì´í•´í•˜ê³  ìˆë‹¤ë©´ ì‰½ê²Œ í’€ë¦´ ë“¯ í•˜ë‹¤.. <br>
ìƒê°ë³´ë‹¤ëŠ” ì–´ë µì§€ ì•Šì•˜ìœ¼ë‚˜ ì™ ì§€ ë” ì¢‹ì€ í’€ì´ê°€ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤.

### Code
```python
import sys
input = sys.stdin.readline

from collections import deque
from itertools import combinations
import copy

d = [[-1, 0], [1, 0], [0, -1], [0, 1]]

def bfs(tmp_lab):
    queue = deque()
    for i in range(x):
        for j in range(y):
            if tmp_lab[i][j] == 2:
                queue.append((i, j))
    
    while queue:
        virus_x, virus_y = queue.popleft()
        
        for i in range(4):
            infection_x = virus_x + d[i][0]
            infection_y = virus_y + d[i][1]
            
            if (0 <= infection_x < x) and (0 <= infection_y < y):
                if tmp_lab[infection_x][infection_y] == 0:
                    tmp_lab[infection_x][infection_y] = 2
                    queue.append((infection_x, infection_y))
                    
    global result
    count = 0
    for i in range(x):
        for j in range(y):
            if tmp_lab[i][j] == 0:
                count += 1
                
    result = max(result, count)

def make_wall_combinations():
    wall_combinations = combinations(empty, 3)

    for walls in wall_combinations:
        tmp_lab = copy.deepcopy(lab)

        for wall in walls:
            tmp_lab[wall[0]][wall[1]] = 1

        bfs(tmp_lab)

x, y = map(int, input().split())
lab = [list(map(int, input().split())) for _ in range(x)]
empty = [(i, j) for i in range(x) for j in range(y) if lab[i][j] == 0]

result = 0
make_wall_combinations()

print(result)
```

### Solution (Combinations í™œìš©)

ìš°ì„  ë‚˜ëŠ” ì¡°í•©ì„ í™œìš©í•´ í’€ì—ˆì§€ë§Œ, ì¬ê·€ë¥¼ í™œìš©í•´ í‘¸ëŠ” ë°©ì‹ë„ ìˆë‹¤. <br>
í•˜ì§€ë§Œ ì‹¤í—˜ ê²°ê³¼, **ì¡°í•©ì„ í™œìš©í•˜ëŠ” ë°©ì‹ì´ ë” ë¹ ë¥´ë‹¤.**

#### `bfs` í•¨ìˆ˜
**âœ” `virus` ì¢Œí‘œ íì— ì‚½ì…**
```python
d = [[-1, 0], [1, 0], [0, -1], [0, 1]]    # ë°”ì´ëŸ¬ìŠ¤ê°€ í¼ì§ˆ ì˜ì—­ (ìƒí•˜ì¢Œìš°)

def bfs(tmp_lab):
    queue = deque()     # bfs íƒìƒ‰í•  ê²ƒì´ë¯€ë¡œ íë¡œ ë°›ì•„ì˜¨ë‹¤.
    for i in range(x):
        for j in range(y):
            if tmp_lab[i][j] == 2:    # ì „ì²´ ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œ íì— ì‚½ì…
                queue.append((i, j))
```
- `bfs(tmp_lab)` í•¨ìˆ˜ëŠ” ë°”ì´ëŸ¬ìŠ¤ë¥¼ **bfs íƒìƒ‰**í•˜ì—¬ í¼ëœ¨ë¦¬ê³  ì•ˆì „ ì˜ì—­ì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜
- `d` ë¦¬ìŠ¤íŠ¸ë¡œ ë°”ì´ëŸ¬ìŠ¤ê°€ **í¼ì§ˆ ì˜ì—­** ì„¤ì • (ìƒí•˜ì¢Œìš°)
- ìš°ì„  ë°”ì´ëŸ¬ìŠ¤ë¥¼ í¼ëœ¨ë¦¬ê¸° ìœ„í•´ **ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œë“¤**ì„ `queue`ì— **ì‚½ì…**í•œë‹¤.

<br>

**âœ” bfs íƒìƒ‰ì„ í™œìš©í•˜ì—¬ ì£¼ë³€ ì¢Œí‘œ ê°ì—¼ ì‹œí‚¤ê¸°**
```python
    while queue:
        virus_x, virus_y = queue.popleft()    # ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œ êº¼ë‚´ì˜¤ê¸°
        
        for i in range(4):    # ìƒí•˜ì¢Œìš° ë°˜ë³µ (ê°ì—¼ ì¢Œí‘œ ì„¤ì •)
            infection_x = virus_x + d[i][0]    
            infection_y = virus_y + d[i][1]
            
            if (0 <= infection_x < x) and (0 <= infection_y < y):   # ë§µì„ ë²—ì–´ë‚˜ì§€ ì•Šê³ ,
                if tmp_lab[infection_x][infection_y] == 0:          # ë¹ˆì¹¸ì´ë¼ë©´,
                    tmp_lab[infection_x][infection_y] = 2           # ê°ì—¼ ì‘ì—…
                    queue.append((infection_x, infection_y))        # ë‹¤ìŒ ë ˆë²¨ íƒìƒ‰ì„ ìœ„í•´ íì— ì‚½ì…
```
- íì— ìˆëŠ” ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œ ì¤‘ **ë¨¼ì € ì¶”ê°€ëœ ì¢Œí‘œë¶€í„°** `popleft()`ë¥¼ í†µí•´ êº¼ë‚¸ë‹¤.
- ê·¸ ë‹¤ìŒ, `d` ë¦¬ìŠ¤íŠ¸ë¥¼ í™œìš©í•´ `virus` ì¢Œí‘œì˜ **ìƒí•˜ì¢Œìš° ì¢Œí‘œ ê°’**ì„ `infection` ì¢Œí‘œì— ë„£ëŠ”ë‹¤.
- ë§Œì•½ `infection` ì¢Œí‘œê°€ **ì „ì²´ ë§µ**ì„ ë²—ì–´ë‚˜ì§€ ì•Šê³ , **ë¹ˆì¹¸(0)**ì´ë¼ë©´, **ê°ì—¼ì‹œí‚¨(2ë¡œ ë³€ê²½)** í›„ íì— ì‚½ì…í•œë‹¤.

<br>

**âœ” ì•ˆì „ ì˜ì—­ì˜ ìµœëŒ€ í¬ê¸° ê³„ì‚°**
```python
    global result
    count = 0
    for i in range(x):
        for j in range(y):
            if tmp_lab[i][j] == 0:      # ì•ˆì „ ì˜ì—­ ê°œìˆ˜ ì„¸ê¸°
                count += 1
                    
        result = max(result, count)     # ìµœëŒ“ê°’ ì—…ë°ì´íŠ¸
```
- `count`ì˜ ì´ˆê¸°ê°’ì„ ì„¤ì •í•˜ê³ , **ë¹ˆì¹¸(ì•ˆì „ ì˜ì—­)**ì˜ ê°œìˆ˜ë¥¼ ì„¼ë‹¤.
- `max(result, count)`ë¥¼ í†µí•´ ìµœëŒ“ê°’ì„ ê³„ì†í•´ì„œ **ì—…ë°ì´íŠ¸** í•œë‹¤.

#### `make_wall` í•¨ìˆ˜
**âœ” ë²½ì„ 3ê°œ ì„¸ìš°ëŠ” ê²½ìš°ì˜ ìˆ˜ íƒìƒ‰**
```python
def make_wall_combinations():
    wall_combinations = combinations(empty, 3)

    for walls in wall_combinations:
        tmp_lab = copy.deepcopy(lab)

        for wall in walls:
            tmp_lab[wall[0]][wall[1]] = 1

        bfs(tmp_lab)
```
- `combinations` í•¨ìˆ˜ë¥¼ í™œìš©í•´ `empty`ì—ì„œ **3ê°œì˜ ì¢Œí‘œ**ë¥¼ ì„ íƒí•œ **ì¡°í•©**ë“¤ì„ ë§Œë“¤ì–´ì¤€ë‹¤.
- ê° ì¡°í•©ì— ëŒ€í•´ `tmp_lab`ì„ ë³µì‚¬í•œ í›„, í•´ë‹¹ ì¢Œí‘œì— ë²½ì„ ì„¸ìš´ ë‹¤ìŒ `bfs(tmp_lab)` **í•¨ìˆ˜ë¥¼ í˜¸ì¶œ**í•œë‹¤.

#### ì…ë ¥ ë°›ê¸°
```python
x, y = map(int, input().split())
lab = [list(map(int, input().split())) for _ in range(x)]
empty = [(i, j) for i in range(x) for j in range(y) if lab[i][j] == 0]

result = 0
make_wall_combinations()

print(result)
```
- ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ì—°êµ¬ì‹¤ì˜ **í¬ê¸°ì™€ ìƒíƒœ**ë¥¼ ë°›ì•„ì˜¨ë‹¤.
- `empty` ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ì´ˆê¸° ìƒíƒœì—ì„œ **ê°’ì´ 0ì¸ ì¢Œí‘œ**ë¥¼ ì €ì¥í•œë‹¤.
- `make_wall_combinations()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë²½ì„ ì„¸ìš°ëŠ” **ëª¨ë“  ê²½ìš°ì˜ ìˆ˜**ë¥¼ íƒìƒ‰í•˜ê³  **ìµœëŒ€ ì•ˆì „ ì˜ì—­ì˜ í¬ê¸°**ë¥¼ ë°›ì•„ì˜¨ë‹¤.

### Solution 2 (Recursion í™œìš©)
ì‹œê°„ ì´ˆê³¼!! PyPy3ëŠ” í†µê³¼ ê°€ëŠ¥
{:.note}

```python
import sys
input = sys.stdin.readline

from collections import deque
import copy

d = [[-1,0], [1,0], [0,-1], [0,1]]

def bfs():    # ìœ„ì˜ ì½”ë“œì™€ ë™ì¼
    queue = deque()
    tmp_lab = copy.deepcopy(lab)
    for i in range(x):
        for j in range(y):
            if tmp_lab[i][j] == 2:
                queue.append((i, j))
    
    while queue:
        virus_x, virus_y = queue.popleft()
        
        for i in range(4):
            infection_x = virus_x + d[i][0]
            infection_y = virus_y + d[i][1]
            
            if (0 <= infection_x < x) and (0 <= infection_y < y):
                if tmp_lab[infection_x][infection_y] == 0:
                    tmp_lab[infection_x][infection_y] = 2
                    queue.append((infection_x, infection_y))
                    
    global result
    count = 0
    for i in range(x):
        for j in range(y):
            if tmp_lab[i][j] == 0:
                count += 1
                
    result = max(result, count)

def make_wall_recursion(count):
    if count == 3:  # ë²½ì— 3ê°œì¼ë•Œ bfs í•¨ìˆ˜ í˜¸ì¶œ
        bfs()
        return
    for i in range(x):
        for j in range(y):                    # ì „ì²´ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ë©´ì„œ
            if lab[i][j] == 0:                # ë¹ˆì¹¸ì´ë¼ë©´
                lab[i][j] = 1                 # ë²½ ì„¸ìš°ê¸°
                make_wall_recursion(count+1)  # ë²½ count + 1
                lab[i][j] = 0                 # ë²½ í—ˆë¬¼ê¸°
                
x, y = map(int, input().split())
lab = [list(map(int, input().split())) for _ in range(x)]

result = 0
make_wall_recursion(0)

print(result)
```
> - ë²½ì´ **3ê°œ**ê°€ ë˜ë©´ `bfs()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  í˜¸ì¶œ ìŠ¤íƒì—ì„œ í˜„ì¬ í•¨ìˆ˜ í˜¸ì¶œ ì¢…ë£Œ
> - ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°€ë©´ì„œ, **ë§ˆì§€ë§‰ìœ¼ë¡œ ì„¸ìš´ ë²½**ì„ **í—ˆë¬¼ê³ ** ë‹¤ìŒ ë¹ˆ ì¹¸ íƒìƒ‰
> - **ì¬ê·€**ë¥¼ í†µí•´ ë°˜ë³µí•˜ë©´ì„œ **ëª¨ë“  ê²½ìš°ì˜ ìˆ˜** íƒìƒ‰

<br>
í˜¹ì‹œ ë” ì¢‹ì€ ì•Œê³ ë¦¬ì¦˜ í’€ì´ê°€ ìˆë‹¤ë©´ ì–¸ì œë“  ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš” ğŸ˜ƒ
{:.faded}